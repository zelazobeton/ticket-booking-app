create table movie (id bigint generated by default as identity, title varchar(255), primary key (id));
create table reservation (id bigint generated by default as identity, name varchar(255), surname varchar(255), expiry_date timestamp, is_paid boolean not null, screening_id bigint, primary key (id));
create table reservation_seats (reservation_id bigint not null, seat_id bigint not null, primary key (reservation_id, seat_id));
create table room (id bigint generated by default as identity, name varchar(255), seats_schema clob, primary key (id));
create table screening (id bigint generated by default as identity, time timestamp, movie_id bigint, room_id bigint, primary key (id));
create table seat (id bigint generated by default as identity, number integer not null, reserved boolean not null, row_number integer not null, weight integer not null, screening_id bigint, primary key (id));
alter table reservation add constraint FKsus9r7msj3uas10wxl1jvj8xb foreign key (screening_id) references screening;
alter table reservation_seats add constraint FKdfa9mnwxhm75059oihe0xancr foreign key (seat_id) references seat;
alter table reservation_seats add constraint FK5mibmf21x9s8ak5m8ol2680gn foreign key (reservation_id) references reservation;
alter table screening add constraint FKfp7sh76xc9m508stllspchnp9 foreign key (movie_id) references movie;
alter table screening add constraint FKd1m1np9gx570qj5ycbddv7fji foreign key (room_id) references room;
alter table seat add constraint FKgh6chbbs5wskb6sphn5royfas foreign key (screening_id) references screening;
